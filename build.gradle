plugins {
    id("application")
}

jar {
    manifest {
        attributes(
                'Main-Class': application.mainClass,
                'Class-Path': 'javax.annotation-api-1.3.2.jar ' +
                        'spring-aop-6.0.13.jar ' +
                        'spring-beans-6.0.13.jar ' +
                        'spring-context-6.0.13.jar ' +
                        'spring-core-6.0.13.jar ' +
                        'spring-expression-6.0.13.jar ' +
                        'spring-jcl-6.0.13.jar'
        )
    }
}

group = "org.application"
version = "1.0-SNAPSHOT"

repositories {
    mavenCentral()
}

dependencies {
    testImplementation(platform("org.junit:junit-bom:5.9.1"))
    testImplementation("org.junit.jupiter:junit-jupiter")

    implementation("org.springframework:spring-context:6.0.13")
    implementation("javax.annotation:javax.annotation-api:1.3.2")
}

application {
    mainClass = "org.application.Main"
}

compileJava.options.encoding = 'UTF-8'

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}


tasks.test {
    useJUnitPlatform()
    systemProperty "file.encoding", "utf-8"
}